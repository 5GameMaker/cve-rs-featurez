#![deny(unsafe_code)]
#![deny(clippy::pedantic)]
#![deny(clippy::nursery)]

use clap::{Parser, Subcommand};

mod buffer_overflow;

#[derive(Parser)]
#[command(author, version, about)]
#[command(propagate_version = true)]
struct Cli {
    #[command(subcommand)]
    command: Commands,
}

#[derive(Subcommand)]
enum Commands {
    /// Reads a few characters in stdin and overflows an immutable buffer.
    BufferOverflow,
}

fn main() {
    let Cli { command } = Cli::parse();

    match command {
        Commands::BufferOverflow => buffer_overflow::buffer_overflow(),
    }
}
